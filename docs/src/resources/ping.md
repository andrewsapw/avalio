# Ping-ресурс

Проверка ресурса осуществляется при помощи ICMP-протокола (Internet Control Message Protocol) путем отправки echo-запроса и ожидания echo-ответа.

## Конфигурация

Ниже представлен пример конфигурации ping-ресурса:

```toml
[[resources.ping]]
name = 'gateway'
address = '192.168.1.1'
timeout_seconds = 10
```

Конфигурация состоит из следующих настроек:

- `name` - задает уникальное название ресурса
- `address` - IP-адрес или доменное имя ресурса, который нужно проверять
- `timeout_seconds` - таймаут ожидания ответа в секундах. Если не указан, по умолчанию используется 10 секунд

## Особенности работы

Ping-ресурс имеет следующие особенности:

- **Множественные попытки**: При неудачной проверке осуществляется до 3 попыток с интервалом в 1 секунду между ними
- **Автоматическое определение протокола**: Система автоматически пытается использовать IPv4, а при неудаче переходит на IPv6
- **Разрешение доменных имен**: Поддерживается проверка как по IP-адресу, так и по доменному имени (DNS-резолвинг выполняется автоматически)
- **Измерение задержки**: Ресурс измеряет время отклика (RTT - Round Trip Time) для каждой успешной проверки

Ресурс считается доступным, если хотя бы одна из попыток завершилась успешно и получен корректный ICMP echo-ответ.